.hero {
    height: calc(var(--vh, 1vh) * 100 - $header-height-mobile);
    padding: var(--gutter);
    background: $color-primary no-repeat url('/assets/images/mainpage-kv-mobile.jpg') left top;
    background-size: cover;
    color: #fff;

    @include media-breakpoint-up(md) {
        height: auto;
        background-image: url('/assets/images/mainpage-kv-desktop.jpg');
        background-position: center center;

    }

    @include media-breakpoint-up(lg) {
        height: calc(100vh - $header-height-desktop);
    }

    > .container {
        height: 100%;
        max-width: $container-width-lg;
    }

    &-text {
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        align-items: flex-start;
        height: 100%;
        transition: all .6s ease;
        transform: translateX(-10px);
        opacity: 0;

        @include media-breakpoint-up(md) {
            justify-content: center;
            width: 45%;
        }

        @include media-breakpoint-up(xl) {
            width: 35%;
        }

        h1 {
            @include media-breakpoint-between(lg, xl) {
                font-size: rem(70 * .8);
            }
        }

        p {
            @include media-breakpoint-up(lg) {
                font-size: rem(24);
            }

            @include media-breakpoint-between(lg, xl) {
                font-size: rem(24 * .8);
            }
        }
    
        .btn {
            @include media-breakpoint-down(md) {
                align-self: center;
            }
        }

        @at-root .hero.is-loaded & {
            opacity: 1;
            transform: translateX(0);
        }
    }
}

.possibility {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: rem(26);
    background: $color-primary url('/assets/images/wall.png') no-repeat center center;
    background-size: 2160px auto;

    .door {
        position: relative;
        display: flex;
        width: rem(1200);

        &-content {
            position: absolute;
            width: 100%;
            height: 100%;

            .embed-responsive {
                &:before {
                    padding-top: 77.125604%;
            
                    @include media-breakpoint-up(md) {
                        padding-top: 51.145833%;
                    }
                }
            }

            &__text {
                position: absolute;
                top: 0;
                right: 0;
                bottom: 0;
                left: 0;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                max-width: 75%;
                margin: 0 auto;
                color: #fff;
                text-align: center;
                pointer-events: none;

                @include media-breakpoint-up(md) {
                    max-width: 55%;
                }

                p {
                    @include media-breakpoint-up(lg) {
                        font-size: rem(20);
                    }
                }
            }
        }

        &-left,
        &-right {
            position: relative;
            max-width: 50%;
            pointer-events: none;
        }

        &-left {
            transform-origin: 0% 50%;
        }

        &-right {
            transform-origin: 100% 50%;
        }

        &.is-opened {
            .door-left {
                animation: door-left-mobile 5s 1 forwards;

                @include media-breakpoint-up(md) {
                    animation: door-left-desktop 5s 1 forwards;
                }
            }

            .door-right {
                animation: door-right-mobile 5s 1 forwards;

                @include media-breakpoint-up(md) {
                    animation: door-right-desktop 5s 1 forwards;
                }
            }
        }
    }

    @keyframes door-left-mobile {
        0% {
            transform: perspective(600px) rotateY(0);
        }
        100% {
            transform: perspective(600px) rotateY(70deg);
        }
    }
    
    @keyframes door-right-mobile {
        0% {
            transform: perspective(600px) rotateY(0);
        }
        100% {
            transform: perspective(600px) rotateY(-70deg);
        }
    }
    
    @keyframes door-left-desktop {
        0% {
            transform: perspective(600px) rotateY(0);
        }
        100% {
            transform: perspective(600px) rotateY(50deg);
        }
    }
    
    @keyframes door-right-desktop {
        0% {
            transform: perspective(600px) rotateY(0);
        }
        100% {
            transform: perspective(600px) rotateY(-50deg);
        }
    }
}

.showcase {
    display: flex;

    &-situation {
        flex: 1 0 40%;
        background: url('/assets/images/situation.jpg') no-repeat right center;
        background-size: cover;
    }

    &-product {
        max-width: 100%;

        @include media-breakpoint-up(md) {
            max-width: 60%;
        }

        .swiper-slide {
            display: flex;

            img {
                height: 100%;
            }
        }

        &-meta {
            position: absolute;
            top: rem(25);
            left: rem(37);

            @include media-breakpoint-up(lg) {
                top: 2.929688vw;
                left: 3.662109vw;
            }

            &__title {
                color: $color-primary;
                text-transform: uppercase;

                @include media-breakpoint-up(lg) {
                    font-size: rem(52);
                }
            }

            &__spec {
                font-size: rem(20);
                font-weight: 700;
                line-height: 1.4;

                @include media-breakpoint-up(lg) {
                    font-size: 32px;
                }
            }
        }

        .btn {
            position: absolute;
            bottom: rem(50);
            left: 50%;
            transform: translateX(-50%);

            @include media-breakpoint-up(lg) {
                bottom: 5.371094vw;
            }
        }
    }
}

.why {
    padding: $gutter;
    background: url('/assets/images/why-bg-mobile.jpg') no-repeat center center;
    background-size: cover;
    color: #fff;

    @include media-breakpoint-up(md) {
        background-image: url('/assets/images/why-bg-tablet.jpg');
    }

    @include media-breakpoint-up(lg) {
        background-image: url('/assets/images/why-bg-desktop.jpg');
    }

    &-content {
        display: flex;
        flex-direction: column;
        max-width: rem(900);
        margin: 0 auto;

        > svg {
            margin: 0 auto rem(10);

            @include media-breakpoint-up(lg) {
                width: rem(120);
                height: rem(74);
                margin-bottom: rem(20);
            }
        }

        > p {
            font-size: rem(20);
        }

        ul {
            margin-bottom: rem(10);

            @include media-breakpoint-up(md) {
                display: flex;
                align-items: flex-start;
                margin-bottom: rem(20);
            }

            @include media-breakpoint-up(lg) {
                margin-bottom: rem(40);
            }

            > li {
                display: flex;
                align-items: flex-start;
                flex-basis: 33.3333333%;
                margin-bottom: rem(20);

                @for $i from 1 through 3 {
                    &:nth-child(#{$i}) {
                        transition-delay: calc(.3s * #{$i});
                    }
                }

                @include media-breakpoint-up(md) {
                    flex-direction: column;
                    align-items: center;
                    margin-right: rem(20);
                    margin-left: rem(20);
                }

                @include media-breakpoint-up(lg) {
                    margin-right: rem(35);
                    margin-left: rem(35);
                }

                > svg {
                    flex: 1 0 rem(100);
                    max-width: rem(100);
                    margin-right: rem(10);

                    @include media-breakpoint-up(md) {
                        flex-basis: rem(180);
                        width: rem(180);
                        max-width: rem(180);
                        margin-right: 0;
                        margin-bottom: rem(20);
                    }
                }

                h3 {
                    font-size: rem(20);

                    @include media-breakpoint-up(md) {
                        margin-bottom: rem(5);
                        text-align: center;
                    }
                }

                p {
                    margin-bottom: 0;
                }
            }


        }

        .btn {
            align-self: center;
        }
    }

    .fadeIn {
        opacity: 0;
        transition: opacity .6s ease;
    }

    &.is-revealed {
        .fadeIn {
            opacity: 1;
        }
    }
}
